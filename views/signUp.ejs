<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<!-- Bootstrap Icons -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
  rel="stylesheet"
/>
<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Signup Modal -->
<div
  class="modal d-block d-flex align-items-center justify-content-center"
  style="background-color: rgb(33, 37, 41)"
  tabindex="-1"
  role="dialog"
  id="modalSignin"
>
  <div
    class="modal-dialog modal-dialog-centered"
    style="max-width: 700px; width: 90%"
  >
    <div
      class="modal-content rounded-4 shadow-lg"
      style="max-height: 80vh; overflow-y: auto"
    >
      <div class="modal-header p-3 border-bottom-0 justify-content-center">
        <h1 class="fw-bold mb-0 fs-2 text-center w-100">Sign up for free</h1>
      </div>
      <div class="modal-body p-3">
        <!-- Added method and action, plus name attributes for form fields -->
        <form action="/signup" method="POST">
          <!-- Role -->
          <div class="input-group mb-3">
            <span class="input-group-text bg-white rounded-start-3">
              <i class="bi bi-person-badge"></i>
            </span>
            <div class="form-floating flex-grow-1 mb-0">
              <input
                type="text"
                name="role"
                class="form-control rounded-end-3"
                id="floatingRole"
                placeholder="Role"
                required
              />
              <label for="floatingRole">Customer/Admin</label>
            </div>
          </div>

          <!-- First Name -->
          <div class="input-group mb-3">
            <span class="input-group-text bg-white rounded-start-3">
              <i class="bi bi-person"></i>
            </span>
            <div class="form-floating flex-grow-1 mb-0">
              <input
                type="text"
                name="firstName"
                class="form-control rounded-end-3"
                id="floatingFirstName"
                placeholder="First Name"
                required
              />
              <label for="floatingFirstName">First Name</label>
            </div>
          </div>

          <!-- Last Name -->
          <div class="input-group mb-3">
            <span class="input-group-text bg-white rounded-start-3">
              <i class="bi bi-person"></i>
            </span>
            <div class="form-floating flex-grow-1 mb-0">
              <input
                type="text"
                name="lastName"
                class="form-control rounded-end-3"
                id="floatingLastName"
                placeholder="Last Name"
                required
              />
              <label for="floatingLastName">Last Name</label>
            </div>
          </div>

          <!-- Email -->
          <div class="input-group mb-3">
            <span class="input-group-text bg-white rounded-start-3">
              <i class="bi bi-envelope"></i>
            </span>
            <div class="form-floating flex-grow-1 mb-0">
              <input
                type="email"
                name="email"
                class="form-control rounded-end-3"
                id="floatingInput"
                placeholder="name@example.com"
                required
              />
              <label for="floatingInput">Email address</label>
            </div>
          </div>

          <!-- Password with toggle -->
          <div class="input-group mb-3">
            <span class="input-group-text bg-white rounded-start-3">
              <i class="bi bi-lock"></i>
            </span>
            <div class="form-floating flex-grow-1 mb-0">
              <input
                type="password"
                name="password"
                class="form-control rounded-end-0"
                id="floatingPassword"
                placeholder="Password"
                required
              />
              <label for="floatingPassword">Password</label>
            </div>
            <button
              class="btn btn-outline-secondary rounded-end-3"
              type="button"
              id="togglePassword"
            >
              <i class="bi bi-eye"></i>
            </button>
          </div>

          <!-- Phone -->
          <div class="input-group mb-3">
            <span class="input-group-text bg-white rounded-start-3">
              <i class="bi bi-telephone"></i>
            </span>
            <div class="form-floating flex-grow-1 mb-0">
              <input
                type="tel"
                name="phoneNbr"
                class="form-control rounded-end-3"
                id="floatingPhone"
                placeholder="Phone Number"
                required
              />
              <label for="floatingPhone">Phone Number</label>
            </div>
          </div>

          <button
            class="w-100 mb-3 btn btn-danger btn-lg rounded-3"
            type="submit"
          >
            Sign up
          </button>

          <small class="text-muted d-block text-center mb-3">
            By clicking Sign up, you agree to our terms of service.
          </small>

          <hr class="my-3" />
          <h2 class="fs-5 fw-bold mb-3 text-center">Or use a third-party</h2>

          <a
            href="https://accounts.google.com/signup"
            target="_blank"
            class="w-100 py-2 mb-2 btn btn-outline-danger rounded-3 d-flex align-items-center justify-content-center text-decoration-none"
          >
            <i class="bi bi-google me-2"></i> Sign up with Google
          </a>
          <a
            href="https://www.facebook.com/r.php"
            target="_blank"
            class="w-100 py-2 mb-2 btn btn-outline-primary rounded-3 d-flex align-items-center justify-content-center text-decoration-none"
          >
            <i class="bi bi-facebook me-2"></i> Sign up with Facebook
          </a>
          <a
            href="https://www.instagram.com/accounts/emailsignup/"
            target="_blank"
            class="w-100 py-2 mb-2 btn btn-outline-dark rounded-3 d-flex align-items-center justify-content-center text-decoration-none"
          >
            <i class="bi bi-instagram me-2"></i> Sign up with Instagram
          </a>

          <p class="text-center mt-4 mb-0">
            Already have an account?
            <a href="/signin" class="text-danger fw-semibold">Sign in</a>
          </p>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Toggle password visibility -->
<script>
  document
    .getElementById("togglePassword")
    .addEventListener("click", function () {
      const pwd = document.getElementById("floatingPassword");
      const icon = this.querySelector("i");
      if (pwd.type === "password") {
        pwd.type = "text";
        icon.classList.replace("bi-eye", "bi-eye-slash");
      } else {
        pwd.type = "password";
        icon.classList.replace("bi-eye-slash", "bi-eye");
      }
    });
</script>
